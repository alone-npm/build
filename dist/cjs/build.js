"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@rollup/plugin-node-resolve"),t=require("@rollup/plugin-commonjs"),o=require("@rollup/plugin-terser"),u=require("module"),s=require("path");exports.default=function(r,{config:n,external:i,es:c,cjs:d,umd:l}={}){const a=[],p=({output:e,config:t,external:o,es:u,cjs:s,umd:r}={})=>({output:void 0===e?"dist":e,config:"object"!=typeof t?{}:t,external:void 0===o||o,es:void 0===u||u,cjs:void 0===s||s,umd:void 0===r||r}),f={...p({output:r,config:n,external:i,es:c,cjs:d,umd:l})};return{set(r,{config:n,external:i,es:c,cjs:d,umd:l}={}){return"object"==typeof r?Array.isArray(r)?r.forEach((e=>this.set(e))):Object.keys(r).forEach((e=>this.set(e,r[e]))):((r,{output:n,config:i,external:c,es:d,cjs:l,umd:f}={})=>{const m={...p({output:n,config:i,external:c,es:d,cjs:l,umd:f})},j={input:r,plugins:[e(),t(),o()]},x=(e,t,o)=>!e.endsWith(t)&&"umd"!==o&&(!(!e.startsWith("./")&&!e.startsWith("../"))||!!u.builtinModules.includes(e)||/node_modules/.test(e));["es","cjs","umd"].forEach((e=>{if(m[e]){const t={...j,output:{dir:m.output+"/"+e,format:e,exports:"named",..."object"==typeof m[e]?m[e]:{}}};"umd"===e&&(t.output.name=s.basename(r,".js")),!0===m.external?t.external=t=>x(t,r,e):"function"==typeof m.external&&(t.external=t=>m.external(t,r,e,(()=>x(t,r,e)))),a.push({...t,...m.config})}}))})(r,{output:f.output,config:void 0===n?f.config:n,external:void 0===i?f.external:i,es:void 0===c?f.es:c,cjs:void 0===d?f.cjs:d,umd:void 0===l?f.umd:l}),this},get:()=>a}};
